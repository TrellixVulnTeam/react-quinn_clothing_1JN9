{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\Web\\\\node\\\\react-101\\\\crwn-clothing\\\\src\\\\pages\\\\shop\\\\shop.component.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { fetchCollectionsStartAsync } from '../../redux/shop/shop.action';\nimport { selectIsCollectionsFetching, selectIsCollectionsLoaded } from '../../redux/shop/shop.selector'; // import { collection, onSnapshot } from 'firebase/firestore';\n// import { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils';\n// import CollectionsOverview from '../../components/collections-overview/collections-overview.component';\n\nimport CollectionsOverviewContainer from '../../components/collections-overview/collections-overview.container';\nimport WithSpinner from '../../components/with-spinner/with-spinner.component';\nimport CollectionPage from '../collection/collection.component';\nimport { Outlet, Route, Routes } from 'react-router-dom'; // const CollectionsOverviewWithSpinner = WithSpinner(CollectionsOverview);\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CollectionsPageWithSpinner = WithSpinner(CollectionPage);\n_c = CollectionsPageWithSpinner;\n\nclass ShopPage extends React.Component {\n  // state = {\n  //     loading: true\n  // };\n  // unsubscribeFromSnapshot = null;\n  componentDidMount() {\n    const {\n      fetchCollectionsStartAsync\n    } = this.props;\n    fetchCollectionsStartAsync(); // const { updateCollections } = this.props;\n    // const collectionRef = collection(firestore, 'collections');\n    // using API\n    // fetch('https://firestore.googleapis.com/v1/projects/crwn-db-db7c0/databases/(default)/documents/collections')\n    // .then(response => response.json())\n    // .then(collections => console.log(collections))\n    // using firestore\n    // collectionRef.get().then( snapShot => {\n    //     const collectionsMap = convertCollectionsSnapshotToMap(snapShot)\n    //     updateCollections(collectionsMap);\n    //     this.setState({ loading: false });\n    // });\n    // using observer\n    // onSnapshot( collectionRef, async (snapShot) => {\n    //     const collectionsMap = convertCollectionsSnapshotToMap(snapShot)\n    //     updateCollections(collectionsMap);\n    //     this.setState({ loading: false });\n    // });\n  }\n\n  render() {\n    // const { loading } = this.state;\n    const {\n      isCollectionsFetching,\n      isCollectionsLoaded\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shop-page\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: `/shop`,\n          element: /*#__PURE__*/_jsxDEV(CollectionsOverviewContainer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 52\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Route, {\n            path: `:collectionId`,\n            element: props => /*#__PURE__*/_jsxDEV(CollectionsPageWithSpinner, {\n              isLoading: loading,\n              ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 76\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nconst mapStateToProps = createStructuredSelector({\n  isCollectionsFetching: selectIsCollectionsFetching,\n  isCollectionsLoaded: selectIsCollectionsLoaded\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchCollectionsStartAsync: () => dispatch(fetchCollectionsStartAsync()) // updateCollections: collectionsMap => dispatch(updateCollections(collectionsMap))\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"CollectionsPageWithSpinner\");","map":{"version":3,"sources":["D:/Programming/Web/node/react-101/crwn-clothing/src/pages/shop/shop.component.jsx"],"names":["React","connect","createStructuredSelector","fetchCollectionsStartAsync","selectIsCollectionsFetching","selectIsCollectionsLoaded","CollectionsOverviewContainer","WithSpinner","CollectionPage","Outlet","Route","Routes","CollectionsPageWithSpinner","ShopPage","Component","componentDidMount","props","render","isCollectionsFetching","isCollectionsLoaded","loading","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SAASC,0BAAT,QAA2C,8BAA3C;AACA,SAASC,2BAAT,EAAsCC,yBAAtC,QAAuE,gCAAvE,C,CACA;AACA;AAEA;;AACA,OAAOC,4BAAP,MAAyC,sEAAzC;AACA,OAAOC,WAAP,MAAwB,sDAAxB;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,MAAxB,QAAsC,kBAAtC,C,CAGA;;;AACA,MAAMC,0BAA0B,GAAGL,WAAW,CAACC,cAAD,CAA9C;KAAMI,0B;;AAEN,MAAMC,QAAN,SAAuBb,KAAK,CAACc,SAA7B,CAAuC;AACnC;AACA;AACA;AAEA;AAEAC,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAAEZ,MAAAA;AAAF,QAAiC,KAAKa,KAA5C;AAEAb,IAAAA,0BAA0B,GAHV,CAMhB;AACA;AAEJ;AACI;AACA;AACA;AAEJ;AACI;AACA;AAEA;AACA;AACA;AAEJ;AACI;AACA;AAEA;AACA;AACA;AACH;;AAEDc,EAAAA,MAAM,GAAG;AACL;AACA,UAAM;AAAEC,MAAAA,qBAAF;AAAyBC,MAAAA;AAAzB,QAAiD,KAAKH,KAA5D;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI,QAAC,MAAD;AAAA,+BACI,QAAC,KAAD;AAAO,UAAA,IAAI,EAAG,OAAd;AAAsB,UAAA,OAAO,eAAE,QAAC,4BAAD;AAAA;AAAA;AAAA;AAAA,kBAA/B;AAAA,iCACI,QAAC,KAAD;AAAO,YAAA,IAAI,EAAG,eAAd;AAA8B,YAAA,OAAO,EAAIA,KAAD,iBAAW,QAAC,0BAAD;AAA4B,cAAA,SAAS,EAAEI,OAAvC;AAAA,iBAAoDJ;AAApD;AAAA;AAAA;AAAA;AAAA;AAAnD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAcH;;AAvDkC;;AAwDtC;AAED,MAAMK,eAAe,GAAGnB,wBAAwB,CAAC;AAC7CgB,EAAAA,qBAAqB,EAAEd,2BADsB;AAE7Ce,EAAAA,mBAAmB,EAAEd;AAFwB,CAAD,CAAhD;;AAKA,MAAMiB,kBAAkB,GAAGC,QAAQ,KAAK;AACpCpB,EAAAA,0BAA0B,EAAE,MAAMoB,QAAQ,CAACpB,0BAA0B,EAA3B,CADN,CAEpC;;AAFoC,CAAL,CAAnC;;AAKA,eAAeF,OAAO,CAACoB,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CT,QAA7C,CAAf","sourcesContent":["import React from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { fetchCollectionsStartAsync } from '../../redux/shop/shop.action';\r\nimport { selectIsCollectionsFetching, selectIsCollectionsLoaded } from '../../redux/shop/shop.selector';\r\n// import { collection, onSnapshot } from 'firebase/firestore';\r\n// import { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils';\r\n\r\n// import CollectionsOverview from '../../components/collections-overview/collections-overview.component';\r\nimport CollectionsOverviewContainer from '../../components/collections-overview/collections-overview.container';\r\nimport WithSpinner from '../../components/with-spinner/with-spinner.component';\r\nimport CollectionPage from '../collection/collection.component';\r\nimport { Outlet, Route, Routes } from 'react-router-dom';\r\n\r\n\r\n// const CollectionsOverviewWithSpinner = WithSpinner(CollectionsOverview);\r\nconst CollectionsPageWithSpinner = WithSpinner(CollectionPage);\r\n\r\nclass ShopPage extends React.Component {\r\n    // state = {\r\n    //     loading: true\r\n    // };\r\n\r\n    // unsubscribeFromSnapshot = null;\r\n\r\n    componentDidMount() {\r\n        const { fetchCollectionsStartAsync } = this.props;\r\n\r\n        fetchCollectionsStartAsync();\r\n\r\n\r\n        // const { updateCollections } = this.props;\r\n        // const collectionRef = collection(firestore, 'collections');\r\n\r\n    // using API\r\n        // fetch('https://firestore.googleapis.com/v1/projects/crwn-db-db7c0/databases/(default)/documents/collections')\r\n        // .then(response => response.json())\r\n        // .then(collections => console.log(collections))\r\n\r\n    // using firestore\r\n        // collectionRef.get().then( snapShot => {\r\n        //     const collectionsMap = convertCollectionsSnapshotToMap(snapShot)\r\n\r\n        //     updateCollections(collectionsMap);\r\n        //     this.setState({ loading: false });\r\n        // });\r\n\r\n    // using observer\r\n        // onSnapshot( collectionRef, async (snapShot) => {\r\n        //     const collectionsMap = convertCollectionsSnapshotToMap(snapShot)\r\n\r\n        //     updateCollections(collectionsMap);\r\n        //     this.setState({ loading: false });\r\n        // });\r\n    }\r\n\r\n    render() {\r\n        // const { loading } = this.state;\r\n        const { isCollectionsFetching, isCollectionsLoaded } = this.props\r\n        return (\r\n            <div className=\"shop-page\" >\r\n                <Routes>\r\n                    <Route path={`/shop`} element={<CollectionsOverviewContainer />} >\r\n                        <Route path={`:collectionId`} element={ (props) => <CollectionsPageWithSpinner isLoading={loading} {...props} />} />\r\n                    </Route>\r\n                    {/* <Route path={`/*`} element={<Outlet />} >\r\n                        <Route index element={ <CollectionsOverviewWithSpinner isLoading={isCollectionsFetching}/> } />\r\n                        <Route path=':collectionId' element={<CollectionsPageWithSpinner isLoading={!isCollectionsLoaded}/>} />\r\n                    </Route> */}\r\n                </Routes>\r\n                {/* <CollectionsOverviewWithSpinner isLoading={loading} /> */}\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isCollectionsFetching: selectIsCollectionsFetching,\r\n    isCollectionsLoaded: selectIsCollectionsLoaded\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchCollectionsStartAsync: () => dispatch(fetchCollectionsStartAsync())\r\n    // updateCollections: collectionsMap => dispatch(updateCollections(collectionsMap))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopPage);"]},"metadata":{},"sourceType":"module"}