{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\Web\\\\node\\\\react-101\\\\crwn-clothing\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport './App.css';\nimport MenuItem from './components/menu-item/menu-item.component';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport Header from './components/header/header.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { snapshotEqual } from '@firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.unsubscribeFromAuth = null;\n    this.state = {\n      currentUser: null\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        // this.setState({ currentUser: user });\n        const userRef = createUserProfileDocument(userAuth);\n        userRef.onSnapShot(snapShot => {\n          this.setState({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data()\n            }\n          });\n        });\n      } // console.log(user);\n\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        currentUser: this.state.currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/:menuId\",\n          element: /*#__PURE__*/_jsxDEV(MenuItem, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shop\",\n          element: /*#__PURE__*/_jsxDEV(ShopPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          element: /*#__PURE__*/_jsxDEV(SignInAndSignUpPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/Programming/Web/node/react-101/crwn-clothing/src/App.js"],"names":["React","Component","Routes","Route","MenuItem","HomePage","ShopPage","Header","SignInAndSignUpPage","auth","createUserProfileDocument","snapshotEqual","App","constructor","props","unsubscribeFromAuth","state","currentUser","componentDidMount","onAuthStateChanged","userAuth","userRef","onSnapShot","snapShot","setState","id","data","componentWillUnmount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,kBAA9B;AAEA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,4CAArB;AAEA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,2BAAhD;AACA,SAASC,aAAT,QAA8B,qBAA9B;;;AAGA,MAAMC,GAAN,SAAkBX,SAAlB,CAA4B;AAC1BY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAQnBC,mBARmB,GAQG,IARH;AAGjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE;AADF,KAAb;AAGD;;AAIDC,EAAAA,iBAAiB,GAAE;AACjB,SAAKH,mBAAL,GAA2BN,IAAI,CAACU,kBAAL,CAAyB,MAAMC,QAAN,IAAkB;AAEpE,UAAIA,QAAJ,EAAc;AACZ;AACA,cAAMC,OAAO,GAAGX,yBAAyB,CAACU,QAAD,CAAzC;AAEAC,QAAAA,OAAO,CAACC,UAAR,CAAoBC,QAAQ,IAAI;AAC9B,eAAKC,QAAL,CAAc;AACZP,YAAAA,WAAW,EAAE;AACXQ,cAAAA,EAAE,EAAEF,QAAQ,CAACE,EADF;AAEX,iBAAGF,QAAQ,CAACG,IAAT;AAFQ;AADD,WAAd;AAMD,SAPD;AAQD,OAdmE,CAkBpE;;AACD,KAnB0B,CAA3B;AAoBD;;AAEDC,EAAAA,oBAAoB,GAAE;AACpB,SAAKZ,mBAAL;AAED;;AAGDa,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,WAAW,EAAG,KAAKZ,KAAL,CAAWC;AAAjC;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,MAAD;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,GAAlB;AAAqB,UAAA,OAAO,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAA9B;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAsB,UAAA,OAAO,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAA/B;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAmB,UAAA,OAAO,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAA5B;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,SAAZ;AAAqB,UAAA,OAAO,eAAE,QAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAA9B;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AApDyB;;AAuD5B,eAAeL,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport './App.css';\nimport MenuItem from './components/menu-item/menu-item.component';\n\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport Header from './components/header/header.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils'\nimport { snapshotEqual } from '@firebase/firestore';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n      currentUser: null\n    }\n  }\n\n  unsubscribeFromAuth = null;\n\n  componentDidMount(){\n    this.unsubscribeFromAuth = auth.onAuthStateChanged( async userAuth => {\n      \n      if (userAuth) {\n        // this.setState({ currentUser: user });\n        const userRef = createUserProfileDocument(userAuth);\n\n        userRef.onSnapShot( snapShot => {\n          this.setState({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data()\n            }\n          })\n        })\n      }\n      \n\n\n      // console.log(user);\n    })\n  }\n\n  componentWillUnmount(){\n    this.unsubscribeFromAuth()\n\n  }\n  \n\n  render() {\n    return (\n      <div>\n          <Header currentUser={ this.state.currentUser }/>\n          <Routes>\n            <Route exact path='/'element={<HomePage />} />\n            <Route path='/:menuId'element={<MenuItem />} />\n            <Route path='/shop'element={<ShopPage />} />\n            <Route path='/signin'element={<SignInAndSignUpPage />} />\n          </Routes>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}